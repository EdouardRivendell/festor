<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <template id="invoice_line_portal_unit_price_visibility_check" inherit_id="custom_invoice_report.portal_invoice_page_inherit_portal_view">
        <xpath expr="//table[@name='invoice_line_table']/tbody//tr[1]//td[3]" position="replace">
            <td t-attf-class="text-right {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }}">
                <t t-if="not line.account_line_unit_price_visibility">
                    <span class="text-nowrap" t-field="line.price_unit"/>
                </t>
            </td>
        </xpath>
        <xpath expr="//table[@name='invoice_line_table']/tbody//tr[1]//td[hasclass('o_price_total')]" position="replace">
            <td class="text-right o_price_total">
                <t t-if="not line.account_line_unit_price_visibility">
                    <span class="text-nowrap" t-field="line.price_subtotal"
                          groups="account.group_show_line_subtotals_tax_excluded"/>
                    <span class="text-nowrap" t-field="line.price_total"
                          groups="account.group_show_line_subtotals_tax_included"/>
                </t>
            </td>
        </xpath>

    </template>
</odoo>